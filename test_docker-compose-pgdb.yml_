version: '3.9'

services:
    local_db:
        image: postgres:14
        container_name: local_db
        environment:
        - POSTGRES_DB=dev2
        - POSTGRES_USER=postgres
        - POSTGRES_PASSWORD=coderslab
        restart: on-failure
        volumes:
        - pgdata:/var/lib/postgresql/data
        ports:
        - 5432:5432
        networks:
        - party_network
networks:
    party_network:
        driver: bridge
volumes:
    pgdata:

podman run -d \
    --name party_db \
    -e POSTGRES_PASSWORD=coderslab \
    -e POSTGRES_USER=postgres \
    -e POSTGRES_DB=dev2 \
    -p 5432:5432 \
    -v party_db:/var/lib/postgresql/data \
    docker.io/postgres
